@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<ContentModels.Home>
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels;
@{
    Layout = "Master.cshtml";
    var home = Model;
    var children = home.Children("MainPage");
}
<div id="main" style="min-height: 550px;">
    <div class="container">
        <div class="row">

            <!-- Content -->
            <div id="content" class="8u skel-cell-important">
                <section>
                    <header>
                        <h2>@home.Header</h2>
                        <span class="byline">@home.SubHeader</span>
                    </header>
                    <div id="content-body">
                        @home.ContentBody
                    </div>
                </section>
            </div>

            <!-- Sidebar -->
            <div id="sidebar" class="4u">
                <section>
                    <header>
                        <h2>Latest Post</h2>
                    </header>

                    <ul class="style">
                        <li>
                            <p class="posted">August 11, 2002</p>
                            <img src="images/pic04.jpg" alt="" />
                            <p class="text">Nullam non wisi a sem eleifend. Donec mattis libero eget urna. Pellentesque viverra enim.</p>
                        </li>
                        <li>
                            <p class="posted">August 11, 2002</p>
                            <img src="images/pic05.jpg" alt="" />
                            <p class="text">Nullam non wisi a sem eleifend. Donec mattis libero eget urna. Pellentesque viverra enim.</p>
                        </li>
                        <li>
                            <p class="posted">August 11, 2002</p>
                            <img src="images/pic06.jpg" alt="" />
                            <p class="text">Nullam non wisi a sem eleifend. Donec mattis libero eget urna. Pellentesque viverra enim.</p>
                        </li>
                    </ul>
                </section>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<div id="featured">
    <div class="container">
        <div class="row">
            @if (children.Any())
            {
                foreach (var child in children)
                {
                    var header = child.Value("header");
                    var subHeader = child.Value("subHeader");
                    var image = child.Value<IPublishedContent>("image");
                    <div class="4u container-bottom" >
                        <div class="container-background">
                            <h2>@header</h2>
                            @if (image != null)
                            {
                                <img src="@image.Url()" alt="" class="image full" style="max-width:100%; height:205px; object-fit:cover" />
                            }
                            <div id="introduction" class="container-min">
                                @subHeader
                            </div>
                            <p style="margin-bottom: 0em !important;"><a href="@child.Url()" class="button">In Detail...</a></p>
                        </div>
                    </div>
                }
            }
        </div>
    </div>
</div>